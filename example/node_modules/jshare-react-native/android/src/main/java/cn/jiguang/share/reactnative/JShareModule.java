package cn.jiguang.share.reactnative;

import com.facebook.react.bridge.Arguments;
import com.facebook.react.bridge.Callback;
import com.facebook.react.bridge.ReactApplicationContext;
import com.facebook.react.bridge.ReactContextBaseJavaModule;
import com.facebook.react.bridge.ReactMethod;
import com.facebook.react.bridge.ReadableMap;
import com.facebook.react.bridge.WritableArray;
import com.facebook.react.bridge.WritableMap;

import java.util.List;

import cn.jiguang.share.android.api.JShareInterface;


public class JShareModule extends ReactContextBaseJavaModule {

    private static final String JSHARE_NAME = "RCTJShare";

    public JShareModule(ReactApplicationContext reactContext) {
        super(reactContext);
    }

    @Override
    public String getName() {
        return JSHARE_NAME;
    }

    @ReactMethod
    public void getPlatformList(Callback callback) {
        List<String> list = JShareInterface.getPlatformList();
        WritableArray array = Arguments.createArray();
        for (String platform : list) {
            array.pushString(platform);
        }
        callback.invoke(array);
    }

    @ReactMethod
    public void isClientValid(String name, Callback callback) {
        callback.invoke(JShareInterface.isClientValid(name));
    }

    @ReactMethod
    public void share(ReadableMap map, ) {

    }

}
